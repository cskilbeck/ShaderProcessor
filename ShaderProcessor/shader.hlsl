//////////////////////////////////////////////////////////////////////

cbuffer VertConstants
{
	matrix ProjectionMatrix = matrix(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
}

//////////////////////////////////////////////////////////////////////

struct VS_INPUT
{
	float2 Pos : float_Position;
	float2 UV : float_TexCoord;
	float4 Color : byte_Color;
};

//////////////////////////////////////////////////////////////////////

struct PS_INPUT
{
	float4 Pos : SV_Position;
	float2 UV : TEXCOORD;
	float4 col : COLOR0;
};

//////////////////////////////////////////////////////////////////////

PS_INPUT vsMain(VS_INPUT input)
{
	PS_INPUT o;
	o.UV = input.UV;
	o.Pos = mul(float4(input.Pos.x, input.Pos.y, 0.5, 1.0), ProjectionMatrix);
	o.col = input.Color;
	return o;
}

//////////////////////////////////////////////////////////////////////

cbuffer ColourStuff
{
	float4 tint;
};

//////////////////////////////////////////////////////////////////////

sampler tex1Sampler;
Texture2D picTexture;

//////////////////////////////////////////////////////////////////////

float4 psMain(PS_INPUT input) : SV_TARGET
{
	float4 pixel = picTexture.Sample(tex1Sampler, input.UV);
	return input.col * pixel * tint;
}
